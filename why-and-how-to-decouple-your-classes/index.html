<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jesus Valera Reales</title>
  <link rel="stylesheet" href="https://jesusvalera.dev/main.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Poppins:400,600" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="icon" type="image/png" sizes="32x32" href="https://jesusvalera.dev/assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://jesusvalera.dev/assets/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://jesusvalera.dev/assets/apple-touch-icon.png">

  
    <link type="application/atom+xml" rel="alternate" href="https://jesusvalera.dev/atom.xml" title="Jesus Valera Reales" />
  

  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K2RD5QTTM8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-K2RD5QTTM8');
    </script>
  

  
<title>Why and How to decouple your classes | Jesus Valera Reales</title>



<meta property="og:title" content="Why and How to decouple your classes">


<meta property="og:locale" content="en_US">


<meta name="description" content="Some frameworks embrace you to using their own helpers, but this has some negative impact on your code and we will take a look at it in this post.">
<meta property="og:description" content="Some frameworks embrace you to using their own helpers, but this has some negative impact on your code and we will take a look at it in this post.">



<link rel="canonical" href="https://jesusvalera.dev/why-and-how-to-decouple-your-classes/">
<meta property="og:url" content="https://jesusvalera.dev/why-and-how-to-decouple-your-classes/">



  <meta property="og:site_name" content="Jesus Valera Reales"/>



  <meta property="og:image" content="https://jesusvalera.dev/icon.ico">
  
  



  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2022-08-17T00:00:00+00:00">




<script type="application/ld+json">
{
  "description": "Some frameworks embrace you to using their own helpers, but this has some negative impact on your code and we will take a look at it in this post.",
  "url": "https://jesusvalera.dev/why-and-how-to-decouple-your-classes/",
  "@context":"https://schema.org",
  "@type": "BlogPosting",
  "headline": "Why and How to decouple your classes"
  
    
    
      "datePublished":"2022-08-17T00:00:00+00:00",
    
    "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https://jesusvalera.dev/why-and-how-to-decouple-your-classes/"
    },
  
}
</script>
  <script type="text/javascript" src="https://jesusvalera.dev/snow.js" defer></script>
  <script type="text/javascript" src="https://jesusvalera.dev/dark-mode.js"></script>
</head>

<body>
<div id="snow"></div>
  
  <header>
    <a class="profile-icon" href="https://jesusvalera.dev">
      <img alt="JesusValera" src="https://jesusvalera.dev/jesus.webp" width="auto" height="auto">
    </a>
    <nav>
      
        <a href="https://jesusvalera.dev">Blog</a>
      
        <a href="https://jesusvalera.dev/readings">Readings</a>
      
        <a href="https://jesusvalera.dev/cv">CV</a>
      
      <button id="light-mode" onclick="toDarkMode()" title="Switch to dark mode">
        <svg width="20" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path fill="#444" d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path>
        </svg>
      </button>
      <button id="dark-mode" onclick="toLightMode()" title="Switch to light mode">
        <svg width="20" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path fill="#ccc" d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path>
        </svg>
      </button>
    </nav>
  </header>
  

  <main>
    
  <div class="post">
    <h1 class="post-title">Why and How to decouple your classes</h1>
    <h2 class="post-subtitle">with a real decoupling example</h2>
    <small>
      <time datetime="2022-08-17">
        <svg xmlns="http://www.w3.org/2000/svg" width="12px" height="12px" viewBox="0 0 20 20">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g transform="translate(-300, -2799)" fill="#AAAAAAFF">
              <g transform="translate(56, 160)">
                <path d="M262,2656 C262,2656.552 261.552,2657 261,2657 L247,2657 C246.448,2657 246,2656.552 246,2656 L246,2646 C246,2645.448 246.448,2645 247,2645 L261,2645 C261.552,2645 262,2645.448 262,2646 L262,2656 Z M262,2641 L262,2640 C262,2639.448 261.552,2639 261,2639 C260.448,2639 260,2639.448 260,2640 L260,2641 L255,2641 L255,2640 C255,2639.448 254.552,2639 254,2639 C253.448,2639 253,2639.448 253,2640 L253,2641 L248,2641 L248,2640 C248,2639.448 247.552,2639 247,2639 C246.448,2639 246,2639.448 246,2640 L246,2641 C244.895,2641 244,2641.895 244,2643 L244,2657 C244,2658.104 244.895,2659 246,2659 L262,2659 C263.105,2659 264,2658.104 264,2657 L264,2643 C264,2641.895 263.105,2641 262,2641 L262,2641 Z"></path>
              </g>
            </g>
          </g>
        </svg>
        August 17, 2022 ·
        <svg xmlns="http://www.w3.org/2000/svg" width="12px" height="12px" viewBox="0 0 24 24" fill="none">
          <path stroke="#AAAAAAFF" stroke-width="3" stroke-linecap="round" d="M12 7V12H15M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"/>
        </svg>
        4 mins
      </time>
      <span class="found-typo">
        
        <svg width="12px" height="12px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" fill="#AAAAAAFF" d="M20.8477 1.87868C19.6761 0.707109 17.7766 0.707105 16.605 1.87868L2.44744 16.0363C2.02864 16.4551 1.74317 16.9885 1.62702 17.5692L1.03995 20.5046C0.760062 21.904 1.9939 23.1379 3.39334 22.858L6.32868 22.2709C6.90945 22.1548 7.44285 21.8693 7.86165 21.4505L22.0192 7.29289C23.1908 6.12132 23.1908 4.22183 22.0192 3.05025L20.8477 1.87868ZM18.0192 3.29289C18.4098 2.90237 19.0429 2.90237 19.4335 3.29289L20.605 4.46447C20.9956 4.85499 20.9956 5.48815 20.605 5.87868L17.9334 8.55027L15.3477 5.96448L18.0192 3.29289ZM13.9334 7.3787L3.86165 17.4505C3.72205 17.5901 3.6269 17.7679 3.58818 17.9615L3.00111 20.8968L5.93645 20.3097C6.13004 20.271 6.30784 20.1759 6.44744 20.0363L16.5192 9.96448L13.9334 7.3787Z"></path>
        </svg> Found a typo? <a href="https:&#x2F;&#x2F;github.com&#x2F;JesusValeraDev&#x2F;JesusValera.dev&#x2F;blob&#x2F;main&#x2F;content&#x2F;2022-08-17-why-and-how-to-decouple-your-classes.md" target="_blank">Edit me</a>
      </span>
    </small>
    <div class="post-line"></div>
    <p><img src="/images/2022-08-17/1.png" alt="caravaca-fuentes-marques-1" /></p>
<p>There are some ways to couple your code, some frameworks like Laravel embrace you to do using their own <em>façades</em> or
even using <em>ORM</em> as <em>ActiveRecord</em>, but this is also possible using PHP native methods like <code>time()</code> beyond others.</p>
<p>Unfortunately, in the long run, if you don't invert the dependencies, the code will get messy faster/easier, hurting
your application. To avoid this, you must write tests. Writing tests help you realize how coupled is your business logic
to infrastructure code.</p>
<h2 id="examples-of-classes-that-should-be-decoupled">Examples of classes that should be decoupled</h2>
<h3 id="belongs-to-the-programming-language-itself-like">Belongs to the Programming language itself like</h3>
<ul>
<li>I/O functions like <code>fopen()</code>, <code>file_exists()</code>, <code>file_put_contents()</code>…</li>
<li>Network related like <code>curl_init()</code>, <code>http_response_code()</code>, <code>setcookie()</code>…</li>
<li>Relative to time like <code>date()</code>, <code>time()</code>, <code>microtime()</code>…</li>
<li>System like <code>getenv()</code>, <code>exec()</code>, <code>system()</code>…</li>
</ul>
<h3 id="belongs-to-the-infrastructure-code-like">Belongs to the infrastructure code like</h3>
<ul>
<li>Framework classes like Laravel Façades</li>
<li>Database (Active Record or raw queries instead of <code>Repository</code> pattern)</li>
<li>Third-party services like <code>Monolog</code>, <code>Mandrill</code>, <code>Salesforce</code>…</li>
</ul>
<h2 id="decoupling-a-real-example">Decoupling a real example</h2>
<p>For the next example, let’s try to use a Laravel facade and a PHP function.</p>
<p>Imagine we have the following service, and we really want to invert the dependencies. As you can see, we have the
<code>trans()</code> facade and the <code>date()</code> PHP function.</p>
<pre data-lang="php source" class="language-php source z-code"><code class="language-php source" data-lang="php source"><span class="z-source z-php"><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-keyword z-other z-namespace z-php">namespace</span> </span></span><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-entity z-name z-namespace z-php"><span class="z-support z-other z-namespace z-php">App</span><span class="z-punctuation z-separator z-namespace z-php">\</span>Application</span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

<span class="z-meta z-class z-php"><span class="z-storage z-modifier z-abstract z-php">final </span><span class="z-storage z-type z-class z-php">class</span> <span class="z-entity z-name z-class z-php">WelcomeService</span>
<span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">{</span></span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php">
    <span class="z-comment z-block z-documentation z-phpdoc z-php"><span class="z-punctuation z-definition z-comment z-begin z-php">/**
</span>     <span class="z-punctuation z-definition z-comment z-php">*</span> Output: &quot;hello {$name} @ {Y-m-d}&quot;
     <span class="z-punctuation z-definition z-comment z-end z-php">*/</span></span>
    <span class="z-storage z-modifier z-php">public</span> <span class="z-meta z-function z-php"><span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php">welcome</span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-storage z-type z-php">string</span> <span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>name</span><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-return-type z-php"><span class="z-punctuation z-separator z-php">:</span> <span class="z-storage z-type z-php">string</span>
    <span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-begin z-php">{</span></span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php">
        <span class="z-keyword z-control z-php">return</span> <span class="z-meta z-function-call z-php"><span class="z-variable z-function z-php">trans</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">messages.welcome</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-punctuation z-separator z-php">,</span> <span class="z-meta z-array z-php"><span class="z-punctuation z-section z-array z-begin z-php">[</span>
            <span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">name</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span> <span class="z-keyword z-operator z-key z-php">=&gt;</span> <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>name</span>,
            <span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">date</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span> <span class="z-keyword z-operator z-key z-php">=&gt;</span> <span class="z-meta z-function-call z-php"><span class="z-support z-function z-datetime z-php">date</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">Y-m-d</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span>,
        <span class="z-punctuation z-section z-array z-end z-php">]</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>
    </span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-end z-php">}</span></span></span>
</span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">}</span></span></span>
</span></code></pre>
<p>The first thing we should do is to move the <code>trans()</code> Laravel function logic to a different place, in order to do that,
we have to invert the dependencies introducing a new interface as follows:</p>
<pre data-lang="php source" class="language-php source z-code"><code class="language-php source" data-lang="php source"><span class="z-source z-php"><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-keyword z-other z-namespace z-php">namespace</span> </span></span><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-entity z-name z-namespace z-php"><span class="z-support z-other z-namespace z-php">App</span><span class="z-punctuation z-separator z-namespace z-php">\</span>Domain</span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

<span class="z-meta z-interface z-php"><span class="z-storage z-type z-interface z-php">interface</span> <span class="z-entity z-name z-interface z-php">Translator</span>
</span><span class="z-punctuation z-section z-block z-begin z-php">{</span>
   <span class="z-meta z-function z-php"><span class="z-storage z-modifier z-php">public</span> <span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php">trans</span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-storage z-type z-php">string</span> <span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>message</span><span class="z-punctuation z-separator z-php">,</span> <span class="z-storage z-type z-php">string</span> <span class="z-keyword z-operator z-spread z-php">...</span><span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>placeholders</span><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-return-type z-php"><span class="z-punctuation z-separator z-php">:</span> <span class="z-storage z-type z-php">string</span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>
<span class="z-punctuation z-section z-block z-end z-php">}</span>
</span></code></pre>
<p>And place in a new class (which belongs to infrastructure layer) the original Laravel implementation.</p>
<pre data-lang="php source" class="language-php source z-code"><code class="language-php source" data-lang="php source"><span class="z-source z-php"><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-keyword z-other z-namespace z-php">namespace</span> </span></span><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-entity z-name z-namespace z-php"><span class="z-support z-other z-namespace z-php">App</span><span class="z-punctuation z-separator z-namespace z-php">\</span>Infrastructure</span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

<span class="z-meta z-class z-php"><span class="z-storage z-modifier z-abstract z-php">final </span><span class="z-storage z-type z-class z-php">class</span> <span class="z-entity z-name z-class z-php">LaravelTranslator</span> <span class="z-storage z-modifier z-implements z-php">implements</span> <span class="z-meta z-path z-php"><span class="z-entity z-other z-inherited-class z-php">Translator</span></span>
<span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">{</span></span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php">
   <span class="z-storage z-modifier z-php">public</span> <span class="z-meta z-function z-php"><span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php">trans</span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-storage z-type z-php">string</span> <span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>message</span><span class="z-punctuation z-separator z-php">,</span> <span class="z-storage z-type z-php">string</span> <span class="z-keyword z-operator z-spread z-php">...</span><span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>placeholders</span><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-php">
   <span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-begin z-php">{</span></span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php">
      <span class="z-keyword z-control z-php">return</span> <span class="z-meta z-function-call z-php"><span class="z-variable z-function z-php">trans</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>message</span><span class="z-punctuation z-separator z-php">,</span> <span class="z-keyword z-operator z-spread z-php">...</span><span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>placeholders</span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>
   </span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-end z-php">}</span></span></span>
</span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">}</span></span></span>
</span></code></pre>
<p>From now on, we are able to switch the translator implementation between Laravel or a third-party one by implementing
the <code>Translator</code> interface.</p>
<p>We can inject the new <code>LaravelTranslator</code> service in our <code>WelcomeService</code> defining in the service container
which implementation we want to resolve when the framework faces the <code>Translator</code> in the constructor.</p>
<pre data-lang="php source" class="language-php source z-code"><code class="language-php source" data-lang="php source"><span class="z-source z-php"><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-keyword z-other z-namespace z-php">namespace</span> </span></span><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-entity z-name z-namespace z-php"><span class="z-support z-other z-namespace z-php">App</span><span class="z-punctuation z-separator z-namespace z-php">\</span>Application</span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

<span class="z-meta z-class z-php"><span class="z-storage z-modifier z-abstract z-php">final </span><span class="z-storage z-type z-class z-php">class</span> <span class="z-entity z-name z-class z-php">WelcomeService</span>
<span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">{</span></span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php">
    <span class="z-storage z-modifier z-php">public</span> <span class="z-meta z-function z-php"><span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php"><span class="z-support z-function z-magic z-php">__construct</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php">
        <span class="z-meta z-path z-php"><span class="z-support z-class z-php">private</span></span> <span class="z-meta z-path z-php"><span class="z-support z-class z-php">Translator</span></span> <span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>translator</span><span class="z-punctuation z-separator z-php">,</span>
    <span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-php"> <span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-begin z-php">{</span></span></span><span class="z-meta z-function z-php"></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-end z-php">}</span></span></span>

    <span class="z-storage z-modifier z-php">public</span> <span class="z-meta z-function z-php"><span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php">welcome</span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-storage z-type z-php">string</span> <span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>name</span><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-return-type z-php"><span class="z-punctuation z-separator z-php">:</span> <span class="z-meta z-path z-php"><span class="z-support z-class z-php">void</span></span>
    <span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-begin z-php">{</span></span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php">
        <span class="z-keyword z-control z-php">return</span> <span class="z-variable z-language z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>this</span><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-other z-member z-php">translator</span><span class="z-meta z-function-call z-method z-php"><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-function z-php">trans</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php">
            <span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">messages.welcome</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-punctuation z-separator z-php">,</span>
            <span class="z-meta z-array z-php"><span class="z-punctuation z-section z-array z-begin z-php">[</span><span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">name</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span> <span class="z-keyword z-operator z-key z-php">=&gt;</span> <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>name</span>, <span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">date</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span> <span class="z-keyword z-operator z-key z-php">=&gt;</span> <span class="z-meta z-function-call z-php"><span class="z-support z-function z-datetime z-php">date</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">Y-m-d</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-section z-array z-end z-php">]</span></span><span class="z-punctuation z-separator z-php">,</span>
       <span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>
    </span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-end z-php">}</span></span></span>
</span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">}</span></span></span>
</span></code></pre>
<p>The next step is to do the same but with the <code>date()</code> method.</p>
<pre data-lang="php source" class="language-php source z-code"><code class="language-php source" data-lang="php source"><span class="z-source z-php"><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-keyword z-other z-namespace z-php">namespace</span> </span></span><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-entity z-name z-namespace z-php"><span class="z-support z-other z-namespace z-php">App</span><span class="z-punctuation z-separator z-namespace z-php">\</span>Domain</span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

<span class="z-meta z-interface z-php"><span class="z-storage z-type z-interface z-php">interface</span> <span class="z-entity z-name z-interface z-php">Date</span>
</span><span class="z-punctuation z-section z-block z-begin z-php">{</span>
   <span class="z-meta z-function z-php"><span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php">toString</span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-return-type z-php"><span class="z-punctuation z-separator z-php">:</span> <span class="z-storage z-type z-php">string</span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>
<span class="z-punctuation z-section z-block z-end z-php">}</span>
</span></code></pre>
<p>And the PHP implementation:</p>
<pre data-lang="php source" class="language-php source z-code"><code class="language-php source" data-lang="php source"><span class="z-source z-php"><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-keyword z-other z-namespace z-php">namespace</span> </span></span><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-entity z-name z-namespace z-php"><span class="z-support z-other z-namespace z-php">App</span><span class="z-punctuation z-separator z-namespace z-php">\</span>Infrastructure</span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

<span class="z-meta z-class z-php"><span class="z-storage z-modifier z-abstract z-php">final </span><span class="z-storage z-type z-class z-php">class</span> <span class="z-entity z-name z-class z-php">SystemDate</span> <span class="z-storage z-modifier z-implements z-php">implements</span> <span class="z-meta z-path z-php"><span class="z-entity z-other z-inherited-class z-php">Date</span></span>
<span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">{</span></span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php">
    <span class="z-storage z-modifier z-php">public</span> <span class="z-meta z-function z-php"><span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php">toString</span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-return-type z-php"><span class="z-punctuation z-separator z-php">:</span> <span class="z-storage z-type z-php">string</span>
    <span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-begin z-php">{</span></span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php">
        <span class="z-keyword z-control z-php">return</span> <span class="z-meta z-function-call z-php"><span class="z-support z-function z-datetime z-php">date</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">Y-m-d</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>
    </span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-end z-php">}</span></span></span>
</span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">}</span></span></span>
</span></code></pre>
<p>Let’s do the same as we did previously, but this time we can inject our own <code>SystemDate</code> implementation through the
<code>Date</code> interface.</p>
<pre data-lang="php source" class="language-php source z-code"><code class="language-php source" data-lang="php source"><span class="z-source z-php"><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-keyword z-other z-namespace z-php">namespace</span> </span></span><span class="z-meta z-namespace z-php"><span class="z-meta z-path z-php"><span class="z-entity z-name z-namespace z-php"><span class="z-support z-other z-namespace z-php">App</span><span class="z-punctuation z-separator z-namespace z-php">\</span>Application</span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

<span class="z-meta z-class z-php"><span class="z-storage z-modifier z-abstract z-php">final </span><span class="z-storage z-type z-class z-php">class</span> <span class="z-entity z-name z-class z-php">WelcomeService</span>
<span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">{</span></span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php">
    <span class="z-storage z-modifier z-php">public</span> <span class="z-meta z-function z-php"><span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php"><span class="z-support z-function z-magic z-php">__construct</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php">
        <span class="z-meta z-path z-php"><span class="z-support z-class z-php">private</span></span> <span class="z-meta z-path z-php"><span class="z-support z-class z-php">Translator</span></span> <span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>translator</span><span class="z-punctuation z-separator z-php">,</span>
        <span class="z-meta z-path z-php"><span class="z-support z-class z-php">private</span></span> <span class="z-meta z-path z-php"><span class="z-support z-class z-php">Date</span></span> <span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>date</span><span class="z-punctuation z-separator z-php">,</span>
    <span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-php"> <span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-begin z-php">{</span></span></span><span class="z-meta z-function z-php"></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-end z-php">}</span></span></span>

    <span class="z-storage z-modifier z-php">public</span> <span class="z-meta z-function z-php"><span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php">welcome</span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-storage z-type z-php">string</span> <span class="z-variable z-parameter z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>name</span><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-return-type z-php"><span class="z-punctuation z-separator z-php">:</span> <span class="z-meta z-path z-php"><span class="z-support z-class z-php">void</span></span>
    <span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-begin z-php">{</span></span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php">
        <span class="z-keyword z-control z-php">return</span> <span class="z-variable z-language z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>this</span><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-other z-member z-php">translator</span><span class="z-meta z-function-call z-method z-php"><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-function z-php">trans</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php">
            <span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">messages.welcome</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-punctuation z-separator z-php">,</span>
            <span class="z-meta z-array z-php"><span class="z-punctuation z-section z-array z-begin z-php">[</span><span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">name</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span> <span class="z-keyword z-operator z-key z-php">=&gt;</span> <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>name</span>, <span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">date</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span> <span class="z-keyword z-operator z-key z-php">=&gt;</span> <span class="z-variable z-language z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>this</span><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-other z-member z-php">date</span><span class="z-meta z-function-call z-method z-php"><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-function z-php">toString</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-section z-array z-end z-php">]</span></span><span class="z-punctuation z-separator z-php">,</span>
       <span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>
    </span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-end z-php">}</span></span></span>
</span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">}</span></span></span>
</span></code></pre>
<p>Finally, we can create a test for the <code>WelcomeService</code> injecting the required dependencies.</p>
<pre data-lang="php source" class="language-php source z-code"><code class="language-php source" data-lang="php source"><span class="z-source z-php"><span class="z-meta z-class z-php"><span class="z-storage z-modifier z-abstract z-php">final </span><span class="z-storage z-type z-class z-php">class</span> <span class="z-entity z-name z-class z-php">WelcomeServiceTest</span> <span class="z-storage z-modifier z-extends z-php">extends</span> <span class="z-meta z-path z-php"><span class="z-entity z-other z-inherited-class z-php">TestCase</span></span>
<span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">{</span></span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php">
    <span class="z-storage z-modifier z-php">public</span> <span class="z-meta z-function z-php"><span class="z-storage z-type z-function z-php">function</span> <span class="z-entity z-name z-function z-php">test_welcome</span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function z-parameters z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span><span class="z-meta z-function z-return-type z-php"><span class="z-punctuation z-separator z-php">:</span> <span class="z-meta z-path z-php"><span class="z-support z-class z-php">void</span></span>
    <span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-begin z-php">{</span></span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php">
        <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>translate</span> <span class="z-keyword z-operator z-assignment z-php">=</span> <span class="z-keyword z-other z-new z-php">new</span> <span class="z-meta z-path z-php"><span class="z-support z-class z-php">LaravelTranslator</span></span><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span><span class="z-punctuation z-section z-group z-end z-php">)</span></span><span class="z-punctuation z-terminator z-expression z-php">;</span> <span class="z-comment z-line z-double-slash z-php"><span class="z-punctuation z-definition z-comment z-php">//</span> Real implmentation
</span>
        <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>date</span> <span class="z-keyword z-operator z-assignment z-php">=</span> <span class="z-variable z-language z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>this</span><span class="z-meta z-function-call z-method z-php"><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-function z-php">createStub</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-meta z-path z-php"><span class="z-support z-class z-php">Date</span></span><span class="z-punctuation z-accessor z-double-colon z-php">::</span><span class="z-constant z-class z-php">class</span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span> <span class="z-comment z-line z-double-slash z-php"><span class="z-punctuation z-definition z-comment z-php">//</span> Fake implementation
</span>        <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>date</span><span class="z-meta z-function-call z-method z-php"><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-function z-php">method</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">toString</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-meta z-function-call z-method z-php"><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-function z-php">willReturn</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">2022-02-22</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

        <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>name</span> <span class="z-keyword z-operator z-assignment z-php">=</span> <span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">World</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

        <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>service</span> <span class="z-keyword z-operator z-assignment z-php">=</span> <span class="z-keyword z-other z-new z-php">new</span> <span class="z-meta z-path z-php"><span class="z-support z-class z-php">WelcomeService</span></span><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span><span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>translate</span>, <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>date</span><span class="z-punctuation z-section z-group z-end z-php">)</span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>
        <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>response</span> <span class="z-keyword z-operator z-assignment z-php">=</span> <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>service</span><span class="z-meta z-function-call z-method z-php"><span class="z-punctuation z-accessor z-arrow z-php">-&gt;</span><span class="z-variable z-function z-php">welcome</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>name</span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>

        <span class="z-variable z-language z-php">self</span><span class="z-meta z-function-call z-static z-php"><span class="z-punctuation z-accessor z-double-colon z-php">::</span><span class="z-variable z-function z-php">assertSame</span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-begin z-php">(</span></span></span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-string z-quoted z-single z-php"><span class="z-punctuation z-definition z-string z-begin z-php">&#39;</span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php"></span></span><span class="z-string z-quoted z-single z-php"><span class="z-meta z-string-contents z-quoted z-single z-php">hello World @ 2022-02-22</span><span class="z-punctuation z-definition z-string z-end z-php">&#39;</span></span><span class="z-punctuation z-separator z-php">,</span> <span class="z-variable z-other z-php"><span class="z-punctuation z-definition z-variable z-php">$</span>response</span><span class="z-meta z-function-call z-php"><span class="z-meta z-group z-php"><span class="z-punctuation z-section z-group z-end z-php">)</span></span></span></span></span><span class="z-punctuation z-terminator z-expression z-php">;</span>
    </span></span><span class="z-meta z-function z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-end z-php">}</span></span></span>
</span></span><span class="z-meta z-class z-php"><span class="z-meta z-block z-php"><span class="z-punctuation z-section z-block z-php">}</span></span></span>
</span></code></pre>
<blockquote>
<p>Ideally we should write the test first, later the real implementation</p>
</blockquote>
<h2 id="conclusion">Conclusion</h2>
<p>Decoupling your classes is a good practice that will help you to maintain your codebase in the long run.<br>
It will also help you not only to switch between different implementations of the same interface in case you decided to
change the framework or the third-party service but also to test your code in a more efficient way.</p>
<p><img src="/images/2022-08-17/2.png" alt="caravaca-fuentes-marques-2" /></p>

  </div>

  <div class="pagination">
    
    <a href="#" class="top">Top</a>
    
  </div>

  </main>

  
  <footer>
    <div style="display: flex; justify-content: center; align-items: center">
      <span style="margin-right: 6px">
        <span>
          <a href="/other/parlamento-entre-el-rey-cristiano-y-el-sultan-moro/">&#10015;</a> ×
        </span>
        <a href="/atom.xml">RSS</a> &copy; <time datetime="2024">2024</time> - Jesus Valera Reales
      </span>
      <a href="https://github.com/JesusValeraDev" style="display: inline-block" target="_blank">
        <img alt="github" src="/about/github.svg" style="margin: auto" width="24" height="24">
      </a>
      <a href="https://www.linkedin.com/in/jesus-valera-reales/" style="display: inline-block" target="_blank">
        <img alt="linkedin" src="/about/linkedin.svg" style="margin: auto" width="24" height="24">
      </a>
    </div>
  </footer>
  
</body>
</html>
