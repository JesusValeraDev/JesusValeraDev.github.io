<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jesus Valera Reales</title>
  <link rel="stylesheet" href="https://jesusvalera.dev/main.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Poppins:400,600" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="icon" type="image/png" sizes="32x32" href="https://jesusvalera.dev/assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://jesusvalera.dev/assets/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://jesusvalera.dev/assets/apple-touch-icon.png">

  
    <link type="application/atom+xml" rel="alternate" href="https://jesusvalera.dev/atom.xml" title="Jesus Valera Reales" />
  

  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K2RD5QTTM8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-K2RD5QTTM8');
    </script>
  

  
<title>The testing pyramid | Jesus Valera Reales</title>



<meta property="og:title" content="The testing pyramid">


<meta property="og:locale" content="en_US">


<meta name="description" content="A post about the testing pyramid and its importance in the software development. The importance of the unit tests, integration tests and UI tests.">
<meta property="og:description" content="A post about the testing pyramid and its importance in the software development. The importance of the unit tests, integration tests and UI tests.">



<link rel="canonical" href="https://jesusvalera.dev/the-testing-pyramid/">
<meta property="og:url" content="https://jesusvalera.dev/the-testing-pyramid/">



  <meta property="og:site_name" content="Jesus Valera Reales"/>



  <meta property="og:image" content="https://jesusvalera.dev/icon.ico">
  
  



  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2024-04-09T00:00:00+00:00">




<script type="application/ld+json">
{
  "description": "A post about the testing pyramid and its importance in the software development. The importance of the unit tests, integration tests and UI tests.",
  "url": "https://jesusvalera.dev/the-testing-pyramid/",
  "@context":"https://schema.org",
  "@type": "BlogPosting",
  "headline": "The testing pyramid"
  
    
    
      "datePublished":"2024-04-09T00:00:00+00:00",
    
    "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https://jesusvalera.dev/the-testing-pyramid/"
    },
  
}
</script>
  <script type="text/javascript" src="https://jesusvalera.dev/snow.js" defer></script>
  <script type="text/javascript" src="https://jesusvalera.dev/dark-mode.js"></script>
</head>

<body>
<div id="snow"></div>
  
  <header>
    <a class="profile-icon" href="https://jesusvalera.dev">
      <img alt="JesusValera" src="https://jesusvalera.dev/jesus.webp" width="auto" height="auto">
    </a>
    <nav>
      
        <a href="https://jesusvalera.dev">Blog</a>
      
        <a href="https://jesusvalera.dev/readings">Readings</a>
      
        <a href="https://jesusvalera.dev/cv">CV</a>
      
      <button id="light-mode" onclick="toDarkMode()" title="Switch to dark mode">
        <svg width="20" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path fill="#444" d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path>
        </svg>
      </button>
      <button id="dark-mode" onclick="toLightMode()" title="Switch to light mode">
        <svg width="20" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path fill="#ccc" d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path>
        </svg>
      </button>
    </nav>
  </header>
  

  <main>
    
  <div class="post">
    <h1 class="post-title">The testing pyramid</h1>
    <h2 class="post-subtitle">How to structure your test suite ðŸ—¼</h2>
    <small>
      <time datetime="2024-04-09">
        <svg xmlns="http://www.w3.org/2000/svg" width="12px" height="12px" viewBox="0 0 20 20">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g transform="translate(-300, -2799)" fill="#AAAAAAFF">
              <g transform="translate(56, 160)">
                <path d="M262,2656 C262,2656.552 261.552,2657 261,2657 L247,2657 C246.448,2657 246,2656.552 246,2656 L246,2646 C246,2645.448 246.448,2645 247,2645 L261,2645 C261.552,2645 262,2645.448 262,2646 L262,2656 Z M262,2641 L262,2640 C262,2639.448 261.552,2639 261,2639 C260.448,2639 260,2639.448 260,2640 L260,2641 L255,2641 L255,2640 C255,2639.448 254.552,2639 254,2639 C253.448,2639 253,2639.448 253,2640 L253,2641 L248,2641 L248,2640 C248,2639.448 247.552,2639 247,2639 C246.448,2639 246,2639.448 246,2640 L246,2641 C244.895,2641 244,2641.895 244,2643 L244,2657 C244,2658.104 244.895,2659 246,2659 L262,2659 C263.105,2659 264,2658.104 264,2657 L264,2643 C264,2641.895 263.105,2641 262,2641 L262,2641 Z"></path>
              </g>
            </g>
          </g>
        </svg>
        April  9, 2024 Â·
        <svg xmlns="http://www.w3.org/2000/svg" width="12px" height="12px" viewBox="0 0 24 24" fill="none">
          <path stroke="#AAAAAAFF" stroke-width="3" stroke-linecap="round" d="M12 7V12H15M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"/>
        </svg>
        3 mins
      </time>
      <span class="found-typo">
        
        <svg width="12px" height="12px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" fill="#AAAAAAFF" d="M20.8477 1.87868C19.6761 0.707109 17.7766 0.707105 16.605 1.87868L2.44744 16.0363C2.02864 16.4551 1.74317 16.9885 1.62702 17.5692L1.03995 20.5046C0.760062 21.904 1.9939 23.1379 3.39334 22.858L6.32868 22.2709C6.90945 22.1548 7.44285 21.8693 7.86165 21.4505L22.0192 7.29289C23.1908 6.12132 23.1908 4.22183 22.0192 3.05025L20.8477 1.87868ZM18.0192 3.29289C18.4098 2.90237 19.0429 2.90237 19.4335 3.29289L20.605 4.46447C20.9956 4.85499 20.9956 5.48815 20.605 5.87868L17.9334 8.55027L15.3477 5.96448L18.0192 3.29289ZM13.9334 7.3787L3.86165 17.4505C3.72205 17.5901 3.6269 17.7679 3.58818 17.9615L3.00111 20.8968L5.93645 20.3097C6.13004 20.271 6.30784 20.1759 6.44744 20.0363L16.5192 9.96448L13.9334 7.3787Z"></path>
        </svg>Â FoundÂ aÂ typo?Â <a href="https:&#x2F;&#x2F;github.com&#x2F;JesusValeraDev&#x2F;JesusValera.dev&#x2F;blob&#x2F;main&#x2F;content&#x2F;2024-04-09-the-testing-pyramid.md" target="_blank">EditÂ me</a>
      </span>
    </small>
    <div class="post-line"></div>
    <p>The Testing Pyramid (also known as <em>Cohn Pyramid</em>) is a concept that visualizes the ideal distribution of different
types of tests within a testing strategy. It resembles a pyramid with three layers: <strong>Unit</strong> at the base, followed by
<strong>Service</strong> in the middle, and finally, <strong>User Interface</strong> tests on top.</p>
<img src="/images/2024-04-09/1.png" alt="cohn-pyramid">
<h3 id="unit-tests">Unit Tests</h3>
<p>Ideally between <strong>50-60%</strong> of all tests in our system should belong to this category. They are fast, focused, and
inexpensive to maintain.</p>
<ul>
<li>Are small, focused tests that validate the behavior of individual components or units of code in isolation</li>
<li>Help ensure that each function, method, or class behaves correctly under various conditions</li>
</ul>
<h3 id="service-tests">Service Tests</h3>
<p>A range of <strong>20-40%</strong> is a good number of tests that should belong to this category. They are broader in scope than unit
tests and may involve testing across multiple layers of the application, such as testing database interactions or API
endpoints.</p>
<ul>
<li>Verify interactions between different components or modules of the system</li>
<li>Unlike unit tests, which isolate specific units of code, service tests examine how these units work together</li>
<li>Help identify issues that may arise when different components interact with each other</li>
</ul>
<h3 id="ui-tests">UI Tests</h3>
<p>About <strong>0-10%</strong> of all tests should belong to this category. They are the slowest and most brittle tests to write and
maintain, but they provide the highest level of confidence by simulating real user scenarios.</p>
<ul>
<li>These tests interact with the application as a user would, often through 3rd party applications like Selenium or
Cypress</li>
<li>Validate the flow of the application and help ensure that all components work together seamlessly in a production-like
environment</li>
<li>They are much slower to write and execute than an integration tests and are more likely to break due to changes in
the application</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>The Testing Pyramid promotes a balanced testing strategy where the majority of tests are fast, focused, and inexpensive
to maintain (Unit tests), while fewer tests are allocated to higher layers (Service and UI tests). This approach ensures
efficient test coverage while minimizing the time and effort required for testing, ultimately leading to faster feedback
cycles and more robust software.</p>
<div class="separator"></div>
<p>Remember which kind of project you are - you won't have the same testing strategy approach whether the project you are
working on is legacy or greenfield. Depending on it, those values may vary.</p>
<p>In legacy projects coupled with third-party libraries (like the database), sometimes it is tough to write unit tests.
The recommendation is to follow the inverse order, I mean, to not break the current functionality, due to the fragility,
it might be worth writing first a Service or UI tests, and having this
security net, you can then refactorize the code and finally write the unit tests. Writing these more general tests will
also bring you experience in how everything interacts in the application domain.</p>

  </div>

  <div class="pagination">
    
    <a href="#" class="top">Top</a>
    
  </div>

  </main>

  
  <footer>
    <div style="display: flex; justify-content: center; align-items: center">
      <span style="margin-right: 6px">
        <span>
          <a href="/other/parlamento-entre-el-rey-cristiano-y-el-sultan-moro/">&#10015;</a> Ã—
        </span>
        <a href="/atom.xml">RSS</a> &copy; <time datetime="2024">2024</time> - Jesus Valera Reales
      </span>
      <a href="https://github.com/JesusValeraDev" style="display: inline-block" target="_blank">
        <img alt="github" src="/about/github.svg" style="margin: auto" width="24" height="24">
      </a>
      <a href="https://www.linkedin.com/in/jesus-valera-reales/" style="display: inline-block" target="_blank">
        <img alt="linkedin" src="/about/linkedin.svg" style="margin: auto" width="24" height="24">
      </a>
    </div>
  </footer>
  
</body>
</html>
